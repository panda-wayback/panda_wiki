# 增量式洪水填充算法 (Incremental Flood Fill Algorithm)

[参考视频](https://www.bilibili.com/video/BV1Fa4y1w71q/)
---

## 背景介绍

增量式洪水填充算法是传统洪水填充算法（Flood Fill Algorithm）的改进版本，专门用于处理动态环境中的路径规划问题。

### 传统洪水填充算法

传统的洪水填充算法是一种用于填充连通区域的算法，在路径规划中用于计算每个点到目标的最短距离。但它有一个明显的缺点：当环境发生变化时（如发现新的障碍物），需要重新计算整个地图的距离场，这在大型地图或频繁变化的环境中效率很低。

### 增量式改进

增量式洪水填充算法通过"局部更新"的思想解决了这个问题。当发现新的障碍物时，算法只更新那些真正受影响的区域，而不是重新计算整个地图。这种方法大大提高了算法的效率，特别适合机器人探索、动态路径规划等应用场景。

### 应用领域

- **机器人导航**：实时路径规划
- **游戏AI**：动态环境中的寻路
- **自动驾驶**：障碍物检测和路径重规划
- **无人机导航**：动态避障

---

## 核心思想

### 第一步：初始化距离场
首先标记每个格子到终点的距离，这一步是理想化的（假设没有障碍物）。

### 第二步：机器人移动
机器人按照距离递减的方向移动（总是朝着距离更小的方向走）。

### 第三步：发现障碍物时的处理
当遇到一堵墙（障碍物）时，只更新与这个点**相邻且数值连续递增**的所有相关点。

### 第四步：继续移动
更新完成后，机器人继续按照距离递减的方向移动。

---

## 关键理解

### 什么是"数值连续"？

在距离场中，每个点的数值表示到目标的最短距离。

**数值连续**的意思是：
- 如果障碍物位置的数值是3
- 那么**与它相邻且数值为4**的点都与它相关
- 然后继续找与这些点相邻且数值为5的点
- 以此类推，形成一条"数值连续递增"的路径

### 为什么只更新这些点？

- **数值为1、2的点**：最短路径不经过障碍物，无需更新
- **与障碍物相邻且数值连续递增的点**：最短路径经过障碍物，需要重新计算

---

## 算法步骤

1. **发现障碍物** → 记录位置
2. **找到相邻且数值连续递增的相关点** → 只记录这些点
3. **BFS更新** → 只更新这些点，不碰其他点

---

## 性能优势

| 方法 | 时间复杂度 | 适用场景 |
|------|------------|----------|
| 传统方法 | O(地图大小) | 静态地图 |
| 增量方法 | O(相关点数量) | 动态地图 |

---

## 总结

**发现障碍物 → 找到相邻且数值连续递增的相关点 → 只更新这些点**

这就是增量式洪水填充的精髓：通过数值的连续性来判断路径依赖关系，只更新真正受影响的区域。
